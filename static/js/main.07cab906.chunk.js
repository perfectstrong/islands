(this["webpackJsonpisland-counting"]=this["webpackJsonpisland-counting"]||[]).push([[0],{23:function(t,e,n){t.exports=n(34)},28:function(t,e,n){},29:function(t,e,n){},34:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),o=n(11),i=n.n(o),r=(n(28),n(12)),l=n(13),c=n(22),u=n(14),m=n(21),h=(n(29),n(30),n(7)),d=n(15),p=n(8),y=n(19),x=n(20),g=n(17);function f(t,e,n){for(var a=[],s=0;s<t;s++){a.push([]),a[s].push(new Array(e));for(var o=0;o<e;o++)a[s][o]=n}return a}var E=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(c.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={counting:!1,lines:10,columns:10,map:f(10,10,!1),numIsland:0,numMap:f(10,10,0),lock:!1,groundPercentage:.5,start:{x:-1,y:-1},end:{x:-1,y:-1},onChooseStartPoint:!1,onChooseEndPoint:!1,onFindingPath:!1,minDist:-1,shortestPath:[[]]},n.toggleGroundSea=function(t,e){return!n.state.lock&&n.setState({map:n.state.map.map((function(n,a){return a!==t?n:n.map((function(t,n){return n!==e?t:!t}))}))})},n.countIsland=function(){return!n.state.counting&&n.setState({counting:!0,numIsland:0,lock:!0},n.startDiscover)},n.numMap=[[]],n.numIsland=0,n.startDiscover=function(){n.numMap=f(n.state.lines,n.state.columns,0),n.numIsland=0,console.log("Starting discovering");for(var t=0;t<n.numMap.length;t++)for(var e=0;e<n.numMap[t].length;e++)n.state.map[t][e]&&0===n.numMap[t][e]&&(n.numIsland++,n.expand(t,e,n.numIsland));console.log("Discover terminated"),n.setState({counting:!1,numIsland:n.numIsland,numMap:n.numMap,lock:!1})},n.reset=function(){return n.setState({counting:!1,lock:!1,lines:10,columns:10,map:f(10,10,!1),numMap:f(10,10,0),numIsland:0,start:{x:-1,y:-1},end:{x:-1,y:-1},onChooseStartPoint:!1,onChooseEndPoint:!1,onFindingPath:!1,minDist:-1,shortestPath:[[]]})},n.randomlyGenerateGround=function(){return!n.state.lock&&n.setState({counting:!1,lock:!1,numIsland:0,map:n.state.map.map((function(t,e){return t.map((function(t,a){return!(e===n.state.start.x&&a===n.state.start.y||e===n.state.end.x&&a===n.state.end.y)&&Math.random()<n.state.groundPercentage}))})),onChooseStartPoint:!1,onChooseEndPoint:!1,onFindingPath:!1,minDist:-1,shortestPath:[[]]})},n.toggleStartPoint=function(t,e){return n.setState({onChooseStartPoint:!1,start:t===n.state.start.x&&e===n.state.start.y?{x:-1,y:-1}:t===n.state.end.x&&e===n.state.end.y||n.state.map[t][e]?n.state.start:{x:t,y:e}})},n.toggleEndPoint=function(t,e){return n.setState({onChooseEndPoint:!1,end:t===n.state.end.x&&e===n.state.end.y?{x:-1,y:-1}:t===n.state.start.x&&e===n.state.start.y||n.state.map[t][e]?n.state.end:{x:t,y:e}})},n.findShortestPath=function(){return n.state.start.x>=0&&n.state.start.y>=0&&n.state.end.x>=0&&n.state.end.y>=0&&n.setState({onFindingPath:!0,lock:!0},n.startFinding)},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return s.a.createElement("div",{className:"App d-flex flex-column justify-content-center align-items-center"},s.a.createElement("h1",null,"Islands"),s.a.createElement(d.a,null,s.a.createElement(p.a,{row:!0,className:"d-flex justify-content-center"},s.a.createElement(h.a,{className:"mr-2",color:"success",onClick:this.countIsland,disabled:this.state.lock},"Count"),s.a.createElement(h.a,{color:"danger",onClick:this.reset,disabled:this.state.lock},"Reset")),s.a.createElement(p.a,{row:!0,className:"d-flex justify-content-center"},s.a.createElement("input",{value:this.state.lines,placeholder:"Lines",className:"d-inline-block form-control form-control-sm mr-2",style:{maxWidth:"100px"},type:"number",min:0,onChange:function(e){return!t.state.counting&&t.setState({lines:e.target.value,map:f(e.target.value,t.state.columns,!1),numMap:f(e.target.value,t.state.columns,0)})}})," x ",s.a.createElement("input",{value:this.state.columns,placeholder:"Columns",type:"number",className:"d-inline-block form-control form-control-sm ml-2",style:{maxWidth:"100px"},min:0,onChange:function(e){return!t.state.counting&&t.setState({columns:e.target.value,map:f(t.state.lines,e.target.value,!1),numMap:f(e.target.value,t.state.columns,0)})}})),s.a.createElement(p.a,{row:!0,className:"d-flex justify-content-center align-items-center"},s.a.createElement(g.a,{className:"mr-2"},"Ground percentage :"),s.a.createElement("input",{value:this.state.groundPercentage,placeholder:"Ground percentage",type:"number",className:"d-inline-block form-control form-control-sm w-auto mr-2",min:0,max:1,step:.01,style:{maxWidth:"100px"},onChange:function(e){return!t.state.counting&&t.setState({groundPercentage:e.target.value})}}),s.a.createElement(h.a,{color:"warning",onClick:this.randomlyGenerateGround,disabled:this.state.lock},"Random")),s.a.createElement(p.a,{row:!0,className:"d-flex justify-content-center align-items-center"},s.a.createElement(h.a,{onClick:function(){return t.setState({onChooseStartPoint:!t.state.onChooseStartPoint})},className:"mr-2"},"Choose start point"),s.a.createElement(h.a,{onClick:function(){return t.setState({onChooseEndPoint:!t.state.onChooseEndPoint})},className:"mr-2"},"Choose end point"),s.a.createElement(h.a,{onClick:this.findShortestPath},"Find shortest path"))),this.state.lines>0&&this.state.columns>0&&s.a.createElement(y.a,{bordered:!0,className:"w-auto",key:this.state.lines+" "+this.state.columns},s.a.createElement("tbody",null,this.state.map.map((function(e,n){return s.a.createElement("tr",{key:n},e.map((function(e,a){return s.a.createElement("td",{key:a,onClick:function(){return t.state.onChooseStartPoint?t.toggleStartPoint(n,a):t.state.onChooseEndPoint?t.toggleEndPoint(n,a):t.toggleGroundSea(n,a)},className:e?"ground":t.state.minDist>0&&t.state.shortestPath[n][a]?"sea-shortest":"sea"},t.state.start.x===n&&t.state.start.y===a?"S":t.state.end.x===n&&t.state.end.y===a?"E":t.state.numMap[n]&&t.state.numMap[n][a]>0?t.state.numMap[n][a]:"")})))})))),(this.state.counting||this.state.onFindingPath)&&s.a.createElement(x.a,{color:"primary"}),s.a.createElement("p",null,"Total islands : ",this.state.numIsland),s.a.createElement("p",null,"Shortest path: ",this.state.minDist))}},{key:"expand",value:function(t,e,n){this.numMap[t][e]=n,console.log(t+" "+e+" "+n),t-1>=0&&this.state.map[t-1][e]&&0===this.numMap[t-1][e]&&this.expand(t-1,e,n),t+1<this.numMap.length&&this.state.map[t+1][e]&&0===this.numMap[t+1][e]&&this.expand(t+1,e,n),e-1>=0&&this.state.map[t][e-1]&&0===this.numMap[t][e-1]&&this.expand(t,e-1,n),e+1<this.numMap[0].length&&this.state.map[t][e+1]&&0===this.numMap[t][e+1]&&this.expand(t,e+1,n)}},{key:"startFinding",value:function(){console.log("Start finding shortest path");var t=f(this.state.lines,this.state.columns,Number.MAX_SAFE_INTEGER);t[this.state.start.x][this.state.start.y]=0;for(var e=f(this.state.lines,this.state.columns,!1),n=f(this.state.lines,this.state.columns,null),a=[],s=this.state.start;s&&(e[s.x][s.y]=!0,!e[this.state.end.x][this.state.end.y]);){s.x-1>=0&&!this.state.map[s.x-1][s.y]&&!e[s.x-1][s.y]&&(a.push({x:s.x-1,y:s.y}),t[s.x][s.y]+1<=t[s.x-1][s.y]&&(t[s.x-1][s.y]=t[s.x][s.y]+1,n[s.x-1][s.y]=s)),s.x+1<this.state.lines&&!this.state.map[s.x+1][s.y]&&!e[s.x+1][s.y]&&(a.push({x:s.x+1,y:s.y}),t[s.x][s.y]+1<=t[s.x+1][s.y]&&(t[s.x+1][s.y]=t[s.x][s.y]+1,n[s.x+1][s.y]=s)),s.y-1>=0&&!this.state.map[s.x][s.y-1]&&!e[s.x][s.y-1]&&(a.push({x:s.x,y:s.y-1}),t[s.x][s.y]+1<=t[s.x][s.y-1]&&(t[s.x][s.y-1]=t[s.x][s.y]+1,n[s.x][s.y-1]=s)),s.y+1<this.state.columns&&!this.state.map[s.x][s.y+1]&&!e[s.x][s.y+1]&&(a.push({x:s.x,y:s.y+1}),t[s.x][s.y]+1<=t[s.x][s.y+1]&&(t[s.x][s.y+1]=t[s.x][s.y]+1,n[s.x][s.y+1]=s));for(var o=Number.MAX_SAFE_INTEGER,i=-1,r=0;r<a.length;r++)t[a[r].x][a[r].y]<o&&(i=r,o=t[a[r].x][a[r].y]);if(i<0)break;s=a[i],a.splice(i,1)}if(console.log("Terminating finding the shortest path"),e[this.state.end.x][this.state.end.y]){for(var l=f(this.state.lines,this.state.columns,!1),c=this.state.end;null!==c;)console.log(c.x+" "+c.y),l[c.x][c.y]=!0,c=n[c.x][c.y];this.setState({onFindingPath:!1,lock:!1,minDist:t[this.state.end.x][this.state.end.y],shortestPath:l})}else this.setState({onFindingPath:!1,lock:!1,minDist:-1,shortestPath:[[]]})}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.07cab906.chunk.js.map